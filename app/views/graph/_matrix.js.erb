// WARNING NOTE: indexes here are 0 based!!
// INPUT:
//    colour
//    data = { nodes: [ { nodeName: <string>, nodeId: <integer> },.. ], links: [ { source: <integer>, target: <integer>, value: <double> },.. ] }

var vis = new pv.Panel()
    .width(800)
    .height(600)
    .top(50)
    .left(50);

var layout = vis.add(pv.Layout.Matrix)
    .nodes(data.nodes)
    .links(data.links)
    .sort(function(a, b) b.nodeId - a.nodeId);

layout.link.add(pv.Bar)
    .fillStyle(function(l) l.linkValue ? colour(l.linkValue) : "#eee")
    .antialias(false)
    .lineWidth(1);

layout.label.add(pv.Label);
